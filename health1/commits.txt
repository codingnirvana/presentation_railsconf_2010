5689044 rick 'Wrote characterization tests for the Payment model, other than the methods added by acts_as_ass. One we get Payment, EOB, and Charge under characterization tests like this we can then refactor to Entry and eliminate the model side of acts_as_ass.'
327e3c3 ymendel 'Fleshing out Charge model spec with characterization tests.'
a041d37 rick 'nuking rspec and rspec_on_rails for an upgrade, the old fashioned way.  I may hate git, but git beats svn here.  bbiab'
87433e6 ymendel 'Creation of Charge exemplar to move tagging test to spec. Characterization tests for charge db table attributes.'
65687c7 ymendel 'Started characterization tests for Record model.'
a4e13ea ymendel 'Added characterization tests for Record updating amount billed/paid when changing the associated charges/payments.'
71aeaac ymendel 'Started some characterization tests for EOB.'
9e10900 rick 'adding comment notes to acts_as_ass from exploration while writing characterization specs'
1772249 rick 'characterization tests for payment, including acts_as_ass functionality; will turn the acts_as_ass specs into a shared behavior next'
27f98e1 ymendel 'even more characterization tests for EOB.'
c73a22e ymendel 'More characterization tests for Record and EOB.'
6d1ca66 rick 'moving acts_as_ass specs out from payment_spec into a shared behavior, linked into payment_spec; of course, created a shared_behaviors directory in spec/ to house shared behaviors'
0abbfde rick 'adding acts_as_ass shared behaviors to Charge and Exlplanation of Benefit specs'
98d34cd rick 'Audited payment_test for removal.  Added specs for anything not already accounted for.  The Payment AR callbacks should end up as a requirement on Bucket when Record becomes bucket, so wrote a pending spec.'
741b694 rick 'Cleaning out EOB test, leaving specs / markers for the refactoring away from acts_as_ass.'
b7a422f rick 'Eliminating Charge unit test, in favor of specs mindful of acts_as_ass refactoring.'
890f203 rick 'Eliminating obviously useless Record unit tests.'
78a6990 rick 'Removing tests of Record relying on (soon-to-be) Entry subclass callbacks.  Using callbacks like this, instead of internalizing the computation and delegating where necessary, spreads Record's responsibilities to other classes.  This is a complex and fragile design.  The user-visible functionality from Record is accounted for by specs already written on Record.'
8436d77 rick 'finally getting rid of Record unit test, in favor of specs'
8b5154f rick 'eliminating garbage/cruft out of acts_as_ass model class while reviewing it more'
703f8c3 rick 'fixing two failing provider controller specs'
d626735 rick 'Moving test code out of Insurance and Person unit tests into specs (where it makes sense); nuking Insurance and Person unit tests; refactoring Provider tests, moving some things to Provider specs.'
5f5c0a0 rick 'Nuking empty unit tests.'
b58941f rick 'catch-up commit -- I had condensed the AssociatedTags #tags() method down to a more readable one-liner.  This /lib/ citizen should probably be reconsidered at some point once the acts_as_ass refactoring is more complete.'
5d51e37 rick 'moving bogus chartable compare test over to specs'
ea089bb rick 'keep this test passing, until we get it replaced with a fixtureless spec (or at least a fixtureless characterization test), no matter how the ordering of records comes out, etc.'
f3b95fb rick 'moving troublesome (data-dependent, aka fixture-dependent) functional test over to a non-data-dependent controller spec'
5e82eee rick 'in process getting rid of fixtures from user controller specs'
8f06e81 rick 'eliminating fixtures calls from user controller spec; fixing up user controller trivially'
291c319 rick 'there was nothing of any real utility in the records controller spec, so nuking fixtures and fixtured-dependent 'examples''
199289e rick 'removing fixture-dependent specs from bill controller specs; some behavior is preservable, some is not valuable; converting to pending specs where necessary'
a8f9143 rick 'trivial commit to eliminate a spec warning over parentheses'
b1b8ffb rick 'people will like me better if I leave the transactional wrapper around tests alone, even though I read its name as having to do with fixtures :-/  fixed.'
7f9f73f rick 'Beginning the process of merging the EOB/Payment/Charge classes into the Entry class hierarchy:'
8d5be25 rick 'bowing to the pressure of fixtures for the moment; adding fixtures for entries; changing charges fixture load calls to use entries; flunking a silly test'
72b2ab7 rick 'Moving Payment under the Entry class hierarchy.  Made migration to copy new columns to entries table (not moving, also not bringing along data).  Updated entries fixture data (the wages of sin are fixtures, I think), redirected :payments fixtures calls; patched tests which rely on magic fixture id numbers and other such nonsense.'
5605712 rick 'Merging EOB into Entry class; still 3 or 4 functional test failures related to fixtures magic-number hardwiring.  Will fix these sometime in the next couple of days (out for the holidays now)'
bc916ea rick 'getting tests to pass (where reasonable) after the merge of last Entry subclass; moved EOB functional test to controller spec'
2b23152 rick 'Bringing up model code from acts_as_ass to the Entry base class.  This is proof that acts_as_ass was simply inheritance done wrong.  The fact that it really is this easy to get the functionality moved back out of the cave (once tests are in place) should've been obvious to the implementor all the way back at jump street.'
9488fcf rick 'eliminating half of act_as_ass from the vendor tree'
7ecdfe8 rick 'refactoring common model functionality up to Entry base class'
62c181c rick 'bringing payment, eob, charge data into the entries table; we will drop the source tables later once we are 100% sure no data loss has occurred.'
437e7c2 rick 'Converting some small unit tests into model specs.  Added Note exemplar.  Made the User spec more robust.'
5fc9afd rick 'these unit tests are worthless.  nuking.'
b0f1b12 rick 'moving helper tests to helper specs'
9610528 rick 'nuking empty functional test'
146e268 rick 'cleanup from last week -- renaming spec in Record to not refer to fictional 'quentin' login'
497821d rick 'Fixing busted view specs.  Radio buttons should also maintain current selection.  Probably a better way to handle the radio buttons, but at least these don't revert to straight html.'
c12bf77 rick 'Eliminate object_id warnings from EOB controller spec.'
81ff58a ymendel 'Adding roles to some fixture user data to prevent nil.has_permission? errors in tests. Modified User model to make it obvious that has_permission? is merely a delegate to the role and added specs for same.'
cbf7462 rick 'Silence obnoxious object_id warnings from functional tests, coming from acts_as_ass controller's bad use of a AcceptedHealthTerm lookup without handling return results properly.'
609221f ymendel 'Some refactoring of Charge spec, making sure Payment, EOB, and Charge are all Entry types.'
f31c026 rick 'reformat these partials to be readable, while diagnosing what they do'
6dda2ad rick 'trivial commit -- whitespace elimination'
5255c2c rick 'RESTful controller for Entries, with routes, views, helper, controller specs, helper specs, routing specs, view specs. Pulled user association up from EOB/Payment/Charge up to Entry base class. Added exemplar for Entry model.'
9053045 rick 'Refactoring common menu out of Bills controller by* views into a partial (started with characterizing specs to safely move this), part of ongoing refactorings around the Entry-related controllers.'
5dd9d87 rick 'refactoring bills menu (using a shared behavior in spec) from all bills views'
9299bd2 ymendel 'Cleaning up reimbursement average calculations in BillsController.'
9eae3aa ymendel 'Fixing spec failure brought about by change to ApplicationHelper#average_reimbursement_rate'
ce102cd rick 'forgot this spec earlier; committing before big ExplanationOfBenefit -> Eob rename push'
0a8d21f rick 'phase 1 (of 3-4) of ExplanationOfBenefit -> Eob rename'
cc09cb6 rick 'phase 2 of EOB renaming'
7edf7b3 rick 'stylesheets and javascript references (I'm not even tangling with prod.js -- that should die.) -- Eob renaming phase 3'
75abca6 rick 'final step of Eob renaming -- data migration.  Eob renaming complete.'
0047356 ymendel 'Cleanup of BillsController (mostly comments) following the decision to make site and user average reimbursement calculation the same. Much cleanup of BillsController spec to make sense of heavy setup for transaction log tests.'
784e47e rick 'whoops -- almost forgot this data change:  the entries table needs to have EOB type strings updated.'
b461851 rick 'redoing EOB renaming undone by prescription-related commits'
8eec707 rick 'Fixed copy-paste </h2>.  Resulted in invalid html.  Fwiw, when you run "rake spec" (as you should, frequently), when there is invalid html in views (yet another reason to be writing view specs...) you will see something like this during the spec run:'
96c50b6 ymendel 'Starting to flesh out Entry spec. Chopping through acts_as_ass record association behavior and starting fresh with simply assigning a new record to an entry if none is given. Need to reconcile service_date being a date with records and a datetime with entries.'
ba931d3 ymendel 'The last commit to Entry [1521] broke part of the Record spec and, shame on me, I didn't notice. The failing specs can't easily be fixed and relate to cached info on Record that should probably be taken out in the interest of simplicity. Specs are pending for now.'
3200c01 ymendel 'Now when an entry is destroyed, it'll notify the record it was associated with. Records, when notified of entry removal, will check to see if no more entries are left and destroy themselves if necessary.'
7329a20 ymendel 'Added Record method to take entries from other records.'
4b9777b ymendel 'Changing the update attributes call on Record#take_entries_from from the (bad) 'update' to the (correct) 'update_attributes''
4698fe1 ymendel 'Entry now, when updated, notifies old record that it's been moved.'
7e81a15 ymendel 'Nuking the old acts_as_ass stuff in Entry to try to keep associated records updated.'
b1cb72c rick 'adding association hooks (+specs) to Eob & Charge to allow linking them together'
a437f6f rick 'a script to show the ambiguities in eob/charge association data, as it stands w/ current data set (i.e., acts_as_associated's associations between Eob's and Charges is insufficient to identify an unique Charge for a given associated Eob'
72ccc87 ymendel 'Using the dollars/cents conversion methods from the plugin instead of explicit division.'
5a38214 ymendel 'Starting the cleanup of Record, removing some cached stuff and making it simpler. Now amount_paid (and amount_paid_deductible) are summed when requested.'
a1f2673 ymendel 'Cleaning up the block variables from the previous commit.'
17c61e8 ymendel 'Going forward with Record calculations-instead-of-caching, putting in insurance reimbursed.'
aeac498 ymendel 'Getting the record to provide a full list of associated people/providers/accounts instead of the cached stuff. Went ahead and cleaned up some missing (I think) relationships between entries and accounts.'
0c9ef0c ymendel 'Fixing a bit the messiness of the Record spec since Rick pointed I should just be comparing sorted arrays.'
c5df1df ymendel 'Let Records give a list of service dates from associated entries.'
d062a6f rick 'EntriesController#index should constrain Entry lookup to those of the current user.  Entry views should be able to make use of a common menu (lifted up from Bill menu subclass functionality).  Various related spec updates.'
5d4333b ymendel 'Making record taking entries from other records only go ove r the unique records.'
ced66d2 ymendel 'Got an understanding of the relationship between accounts, entries, and records. Putting the account association to record, letting account get at entries through that, and letting entry talk to record to say what account it's in.'
7633054 rick 'updating entries controller spec with requirements related to how we look up and/or limit entries for various actions (this is part of eliminating the silly #chain() action, which can be handled more readily by using a nested RESTful route, nesting entries under records, e.g., /records/1/entries'
30aaf06 rick 'removing a no-longer needed spec setup stub'
2f8fb45 rick 'minor pending spec update to entries show view spec'
95f90ab rick 'outlining the spec functionality that we're implementing in the entries/new view (this is the '3-step' view from acts_as_ass) as pending specs.  Many of these will be factored out to various other partials either at the entries/ level, or in the case of what was callled 'step 3', as new.rhtml views in the Entry subclass view paths; but it's instructive to gather these together before refactoring them downwards.'
4291f3d ymendel 'Record is no longer taggable, instead only getting the tags and list from the associated entries. Removed some seemingly-unnecessary reloading from the specs.'
d940a62 rick 'Added show_errors helper for entries views, to get rid of the 'ul' + 'li' + 444 stuff from acts_as_ass controller.'
e79d080 rick 'Adding routing for search method (this replaces the step_two controller method from acts_as_ass controller).  Spec-driven by entries/new.rhtml view form.'
d8b3220 rick 'Spec-driving entries controller new.rhtml view (the step_one replacement for acts_as_ass controller/view).'
824a5ef ymendel 'Removing unused code from Record model.'
d28b0ab ymendel 'Removed checkbox in record form for non-existent 'has_reminder' attribute (cannot be set, is calculated from other data).'
1561ec8 ymendel 'Getting Provider and Person to associate with records through entries instead of directly.'
f782c75 rick 'Updating soon-to-be-extinct assocation tables with Eob vs. ExplanationOfBenefit to allow bills#summary script/server page to limp along during acts_as_ass transition.'
6317d90 ymendel 'Defining no-bill amount on Record (as the sum of payment/prescription billable amounts) and defining billable amount for entry (amount if billable, 0 otherwise).'
9ab8ba9 ymendel 'Adding a convenience method for arrays, Array#total, to get the total for a specific attribute.'
a85ab60 ymendel 'Cleaned up Record a bit, using the new Array#total method.'
af203aa rick 'trivial cosmetic update to entries/new view'
039ae5b rick 'Replacing has_many_polymorphs-based associations, um, association in Entry subclasses with an Entry#associations method which simply asks the associated Record for entries and subtracts the asking Entry from the list.  W/ specs, yo.'
98a9f77 ymendel 'Broke down the critical mass of updated_amount_billed into many discrete chunks.'
d6ac220 ymendel 'Following amount_billed, broke amount_allowed into discrete chunks.'
0b4273e ymendel 'Minor cosmetic change, using Symbol#to_proc.'
8e13f87 rick 'Attempting to obsolete Entry#associate (from acts_as_ass) with the new Record management methods.  One failing spec -- running into a problem getting the Record move to stick.  Pushing to get other eyes on it for debugging.'
0c48250 ymendel 'Uh, no-bill amount should use no-bill amount, not billable amount. Silly Yossef, putting in backwards, wrong logic.'
8996e6d rick 'Taking out :step_one model validation of HealthTerm on Entry which originated in acts_as_ass (this should've never been a model concern), which fixes the problems doing updates for simplified Entry#associate (thanks, Yossef, for tracking this down!).'
f689a7c rick 'Removing acts_as_ass's old associate method, after confirming that inbound calls (which are on the doorstep of death anyway, but let's be disciplined anyway) won't be affected.'
9ffa736 rick 'doing away with Entry#unassociate (originally from acts_as_ass), which is no longer needed, now that we are sanely tracking associations'
1ad2e41 rick 'we no longer need this script to diagnose eob->charge data linkage, as we're not pursuing linking eobs directly to charges'
568196d rick 'We will not attempt to link Eobs to Charges, so dropping the various hooks to do that.'
c43fca2 rick 'updating associated_providers to be sane'
7fe9888 rick 'trimming down the eyesore that is the buggy and incorrect possible_assocations (from acts_as_ass)'
b925102 rick 'removing has_many_polymorphs plugin, as this is no longer used'
d4a2b22 rick 'dropping old acts_as_ass associations tables, and specs on those 'models''
0f5d11e rick 'removing defunct/obsolete models that were tied to acts_as_ass associations tables'
e6fb15e ymendel 'Removing presence validations in Record for person, provider, and service date. These will be leaving soon.'
58d2085 ymendel 'Associating Record to Insurance through associated EOBs'
693898a ymendel 'Cutting out no-longer-needed caching stuff in Record.'
9679186 ymendel 'Defined balance as yet another thing calculated by Record instead of cached. Realized that the dollars_and_cents plugin will handle the dollars bit if the cents bit is defined, so got to rip out some repetitive methods.'
affd631 ymendel 'Disabling the five failing functional tests that will not be fixed and will disappear/move to specs as part of the acts_as_ass refactoring.'
cf010d7 ymendel 'Removing more unused code / caching stuff from Record.'
502e876 ymendel 'Modifying Record's name/description to not rely on person, provider, and service date being attributes of the record itself.'
acc6563 ymendel 'Cleaning up the Record spec, moving some characterization tests to real specs where appropriate.'
3d43e1b ymendel 'Getting the Record to invalidate medstimates for all providers, not just the one provider (which will be leaving).'
8390bae ymendel 'Tiny start to entries/new.rhtml spec, making sure each entry gets a show and edit link and that there's a new-entry link.'
1f6f333 ymendel 'Start of EntriesController#search'
6d0546d ymendel 'Start of refactoring Entry#possible_associations. The real work here is the sort ranking. The redefinition of possible_associations is commented out to not break some characterization tests while I commit this.'
617b392 ymendel 'Making sure the sorting of Entry association possibilities makes sense.'
68e3789 ymendel 'Attempting to make getting Entry association possibilities make sense.'
2502490 rick 'Continuing with controller/view refactoring.  Let's get rid of some hairy computations in the entries subclass views, but introducing a helper to display readable dates. (w/ specs)'
3a1756a ymendel 'Removing the mostly-incomprehensible possible_associations class method on Entry (and the instance method that delegated to it) and putting in the new hotness.'
7c7e506 rick 'Implementing (and updating specs for) search results portion of EntriesController#new view.'
b1674d0 ymendel 'Removing the old Entry#possible_associations for real, the thing I was supposed to get rid of in [1634].'
4b3a713 rick 'activating actual drug comment spec'
7b8deb9 rick 'Entry#possible_associations should now work if no record (and hence no account association) is available.  This will make it possible to keep it as an instance method and use it in EntriesController#new and #edit.  Yo.'
5fa2681 rick 'Entry.reason_for_visit_term_id is now required; updated specs and exemplars.'
161d7f1 ymendel 'Bringing Prescription validation for service date in line with other Entry types.'
842bc9c rick 'Finished remainder of health_term/reason_for_visit_term validation/callback relationship code, specs.'
920272e ymendel 'Got the EntriesController search action going such that it makes a new Entry to run the search and get errors from.'
a522cf7 rick 'updating entries controller & specs to account for the fact that while health_term is provided when creating Entry, it is reason_for_visit_term_id that is used in validation, and hence reported back to the front-end'
b68f70d rick 'stating pending specs for search rjs behavior'
ec31d5e ymendel 'Starting with specs for the entry search results'
51317b9 rick 'Out of the rabbit-hole:  this is how to use rspec to test an RJS view.  Will refactor this a bit to put the useful bit in spec/helper.  Thanks to Matthijs Langenberg on #rspec for putting up with us while we figured this out. :-)'
84f4a12 rick 'make the render_rjs method a spec helper, which takes a relative view path'
630b36d rick 'now we can move these controller actions over to RJS behavior'
432135e rick 'beginning to deal properly with javascript-powered error displays for entries search form'
0d077cc rick 'converting psychotic untested inline javascript into spec'd RJS calls'
1bb1a0d rick 'providing a place for search form and search results (associations) to push their results for creation form posting'
afa4254 rick 'specify exactly which data from the search form will be available to the entry creation form'
c0d4fc8 rick 'enable the guts of passing search form values down to the step 3 forms, via rjs'
0b0c4dc rick 'changing the button (originally derived from bills view) to a submit, to dodge the tangle of JS Observer ... um, 'code' in the bills view'
02b13d8 rick 'ensuring that error messages in search form use humanly acceptable names'
78ca709 ymendel 'Entries index now accepts a record_id param and, if it's present, limits the entries to those of that record.'
0087b6a rick 'ensure that we return the search form to its proper state if we need to re-enter due to invalid or incomplete data submission (the submit ajax disables everything, we need to re-enable)'
7f4724e rick 'ensure that the normal empty string health term submission from the search form doesn't count as a valid reason for visit'
58d23db ymendel 'Filling in the specs for entries index as XML (from [1668]).'
ebedf0a ymendel 'Now actually getting the search results in EntriesController#search. This required fixing some assumptions in Entry itself about what the state of the object would be when finding possible associations.'
b832e3d rick 'making it possible to nest entries routes under records, a pre-requisite for nuking the 'chain' nonsense from acts_as_ass'
19c645c ymendel 'Creating search results partial with spec, added call to update page with search results in search RJS.'
6dc1418 ymendel 'Oops, here's the search results partial with spec I mentioned in [1675]'s commit message.'
1c52007 rick 'fixing some broken specs related to not stubbing possible_associations; also, possible_associations shouldn't be called if there are errors in the search input data'
a88c1d1 rick 'adding RESTful routes for EntriesController subclasses (using pre-Rails2.0 non-DRY syntax), with specs; ditto, nested RESTful routes for same under /records/id/ path (non-DRY, ditto), w/ specs'
5d5377b ymendel 'Took out the step two stuff in new.rhtml, pointing off to the search results partial. Modified the search results to allow for going back or forward. Wrapped the hidden step three stuff in a form.'
32cf0e3 rick 'linkage to /chain/ is now gone.  good riddance.'
95f1619 rick 'goodbye chain.'
575cdea ymendel 'Moving over some 'step three' stuff into the new entry view.'
7b6e3ba rick 'another little acts_as_ass nugget hits the cutting room floor'
956ae63 rick 'overlooked typo in routing spec files due to copy/paste'
192d257 ymendel 'Starting the payment-specific form, taking what I can from 'step three'. Having PaymentsController subclass EntriesController and putting in an easy way for the controllers to know which model to use. Trying to take logic out of the view and put it in the model (like payment defaulting billable status based on the provider).'
e712f7e rick 'added routes for legacy controller methods, w/ specs'
d31b7e2 rick 'spec'ing calls to inline provider and people creation from entries; delegating to partials and templates'
7d3f9ff ymendel 'Modifying entries/new view to call off to subclass form partial, trying to make things work for both Entry and Payment.'
4c8bbc0 rick 'working out layout issues; promoted prescriptions' actual drug inline stuff up to entries; updated routes to be able to call this stuff; now need to make sure the spec'd partials are in place at /entries/ then we can drop the partials and subclass controller actions'
8995e91 rick 'I don't see any reason that, of the 3 inline form methods, only one bothers to get a model instance; none of the views appear to use this so nuking; svn's got my back.'
9119ed9 rick 'first half of inline creation specs/views at the entries/ view level'
c26e92d rick 'I've been wrong before; I'll be wrong again; reverting [1690].  The inline provider view, when it calls the provider form, is way the hell too coupled.  Putting back the @provider=Provider.new + specs'
04b9f01 rick '2nd half of the inline person, provider, and actual drug creation forms with specs'
b44d5ed ymendel 'More modifications to entries controller to get creation to work with both Entry and Payment. Pushing some entries controller specs (for creation) over to the payments controller. Setting up entry creation to work either with or without a supplied record (the new 'chaining').'
2f0601e rick 'Adjusting .autotest exclusion list, as well as the exclusion list in the rspec_on_rails plugin.'
be1bfc2 rick 'further tweak to .autotest to bring it back in line with the rspec_on_rails version'
a8b9cbc ymendel 'More work on creating entries, including tagging and show errors on failure.'
a1c67b9 rick 'Moved the text_field autocompleter for the payments _form (former "step three") into the EntriesHelper so it can be put under spec, and so it's inclusion in the _form can be spec'd.'
59c6d02 ymendel 'Making sure entry creation doesn't attempt tagging if no tags are given.'
2d3c6b0 ymendel 'Payment creation actually works now, including the redirect to the (presently busted) show. Had to get account to go through record to get specific entry types.'
aa88a86 rick 'more work on eliminating deductible complexity in payments form; defining before_filter on payments controller to help get rid of DeductibleExpense.find calls all the way out in the view(\!)'
2d0c6cd rick 'and make sure our html stays valid in the payment _form'
1d440a6 rick 'rename this autocompleter method to match the routes.  ahem.'
9fa16fa rick 'moving the steaming heap of deductible-choosing javascript into a helper to begin the descent from the peak of payment glory'
b011d5f rick 'closing out payment 'step three' view (common portions (tags, mileage, forward/backward linkage) will remain in entries/new common form)'
d0bc1c8 rick 'renaming form.rhtml_spec.rb -> _form.rhtml_spec.rb to match up with name of its associated partial (and thereby make autotest a little happier)'
3aa3b9a ymendel 'Got payment auto-completing 'paid to' field working, moving logic from the payments controller, where it never should have been, to the provider model, where it should have been all along.'
20c1e7e ymendel 'With this change, payments can be created successfully (if incompletely) and shown successfully (if incompletely). The show no longer includes the notes list pending further investigation/untangling.'
8b83e7e rick 'finishing common new.rhtml functionality & specs; turns out we don't need EntriesHelper in the view spec; left one odd mocking spec pending'
fa8322d ymendel 'Making entries deletable (working for Entry and Payment), which includes small changes to the payments show page.'
0d699e5 rick '_form for bills, with specs'
2be92a2 ymendel 'Entry show now works (again, for Entry and Payment)'
e085c64 rick 'eob _form, with specs'
e02203a ymendel 'Renamed search_results.rhtml spec to match the partial (with the leading underscore)'
fdf4989 rick 'doing just enough of the prescriptions controller conversion to entriescontrolller subclass to allow me to wedge in the deductible_expenses before_filter and method for use in prescriptions _form view'
abe81ff rick 'prescriptions/_form, w/ specs'
c1fc1d0 ymendel 'Got the search results going so that checking off possibles actually associates them with the created entry.'
b4e20a6 rick 'adding a common entries note view, extracted from just one of the qudaruplets in copy/paste hell'
ba3105c rick 'adding working notes back to payments show view'
a9e9f82 rick 'and now, updating bills show view'
1b6403f rick 'eob / show, dawg.'
d82f522 rick 'trivial change to bring eob show into line with prior show views'
690dbc2 rick 'and the final /show view -- prescriptions'
62de2b4 rick 'now we can remove these useless copy/paste notes views'
f89d694 rick 'these specs were resolved by implementing them in the subclass _form views'
790f549 rick 'behold, the power of STI.  payments controller goes to weight watchers.'
dee9fb6 rick 'now, EobsController is a subclass of EntriesController'
c309d65 rick 'prescription controller < entries controller'
12eadd7 rick 'due to the fact that the Charge model is inexplicably linked to the *Bills* controller, we need to introduce a split between controller class convention naming and model class convention naming, for uses in the EntriesController convenience methods.  This propagates out to the new.rhtml view as well.'
02a0950 rick 'BillsController < EntriesController; ftp.'
56a3d21 rick 'killing the acts_as_ass plugin.'
31369f5 rick 'factoring entries/new search form out into its own partial for use w/ edit view; relocating specs'
80c2014 rick 'factoring entries/new creation form out into its own partial for use w/ edit view; relocating specs'
512e4ea rick 'Making sure that only step 1 is active on /new.  FastInit should die.  Prototype ships with Rails.'
ced9441 ymendel 'Forgot to actually include the association RJS to go with the rest of the work in [1720].'
35b1401 ymendel 'Got update working for entries (Entry and Payment... and Prescription and Eob and ChaBillrge).'
9776600 ymendel 'Reinstated behavior of deleting any entry type redirects to the bills list afterwards.'
f71e87d rick 'we now have an edit action for entries controller and entries subclasses controllers, w/ specs'
82a448c rick 'partially developed edit rhtml w/ specs (derived from new)'
817b776 rick 'pulling new-specific specs and rhtml bits out from partials to new & new specs -- allows edit.to reuse non-new specific specs and rhtml'
e362bff rick 'edit on payments and prescriptions need to fetch deductible expense categories'
c5fcb37 rick 'enabling edit form; wiring edit form up to the correct action'
7ea0ac9 ymendel 'Finishing up entry edit, adding layout tables, showing the possible associations, showing the heading for step three and the cancel link/submit button.'
322809a ymendel 'Modified entries menu to point to bills controller for summary and transaction log instead of entries controller.'
06e1ebf rick 'updating CSS rule name to get menu formatting working properly again'
a867c65 rick 'adding Chronic gem to vendor/gems for use by ultrasphinx plugin'
3b61855 rick 'adding ultrasphinx configuration directory with example config file'
92e1766 rick 'setting an ignore rule for local ultrasphinx config files'
cee6928 ymendel 'Setting up a general entry show template with specs. Cleaning up some stuff strewn across various entry subclasses and bringing the functionality up into Entry.'
ddb1dd2 rick 'renaming example conf file -- ultrasphinx documentation doesn't match actual rake task settings (aka, a bug)'
0b95ee1 rick 'updating ignore for ultrasphinx configuration to match ultrasphinx Rakefile'
2d6f525 ymendel 'More work on the entry show page, putting in the links to add related entries, the tag listing, and starting the form to add tags.'
8b3dda2 ymendel 'Fleshed out general entry show template and converted entry subtypes to use that template. Made empty 'details' partials for all entry types to prevent errors.'
25a3b59 ymendel 'Filled out payment details partial. Slapped in a few more 'clearboth' divs in the entry show template to magically make it look okay again.'
a996cda ymendel 'Copy/pasted various payment info over to prescription for the details, including the exemplar. Serious thought should be given over to whether a prescription is a real model of its own right or simply a type of payment, including the very real possibility of making Prescription a subclass of Payment.'
1361d1f ymendel 'Filled out details partial for EOB, cleaned up the model a bit to take out the methods that the dollars_and_cents plugin gives for free.'
495398f ymendel 'Filled out details partial for ChaBillrge.'
327a703 ymendel 'Added a record ID hidden field when creating a new entry (so that the "chaining", adding new entries to the same record, actually works). And fixed the associated entry list ("related documents") so that generating the view link doesn't cause an error.'
4089991 ymendel 'Changing the target of Entries search so that it doesn't remove the 'go to step three' button. This happened as a result of the changes to new.rhtml and _search_results.rhtml in [1743].'
0d4ebb8 ymendel 'Entry#association_sort_rank was raising errors if the argument wasn't of the same entry type. Added some specs for the correct behavior (any entry type should do, shown in the specs as accepting the parent class, Entry) and fixed the code.'
cb5af9c rick 'adding ultrasphinx plugin for sphinx/sphincter integration'
109b3e1 rick 'renaming...'
d206b8b rick 'making example from my (selfishly propagating) ultrasphinx config'
59f65d7 ymendel 'Modified entry show template to include an space in the header for "extra", meaning at this moment the comparison stuff for EOBs and BiChargells. Created empty partials for entry, payment, and prescription (with specs to test emptiness) and the simpler one for bills. Started on the EOB.'
528dfeb rick 'working on getting relative paths working for the ultrasphinx default configuration'
e3de3e9 ymendel 'Finished EOB extra detail partial, displaying the expected amounts, the real amounts, and the nice images. This included adding a convenience method, Eob#payer_responsibility.'
e61d887 rick 'removing defunct plugin'
92bac0c rick 'adding search_wrapper plugin (fresh off the BDD presses) for wrapping Ultrasphinx searches for any and all ActiveRecord::Base models'
bdaf7c8 rick 'search_wrapper README updates'
20edaa5 rick 'ignore searchd.pid, please'
524ce49 rick 'tests for searching on Drug will move to ActualDrug'
296314b rick 'stop-gap fix for acts_as_commentable / ultrasphinx cage match'
d14d529 rick 'turning off ferret loading'
1892c31 kbarnes 'fix for ultrasphinx's initialization quirks'
ec4020f ymendel 'Got the bills summary to work, including writing a spec for the summary template's apparent behavior. This also included throwing up my hands at the end for a few very involved helper methods that use the DB heavily and changing some calls to sum to now be total.'
b5badc8 rick 'adding hooks to be able to catch is_indexed arguments for later testing'
e2e72cc rick 'renaming search_wrapper to ultrasphinx_search_wrapper:  (1) to describe its intent better, (2) to get it loaded after ultrasphinx, since this is necessary to get is_indexed() onto AR::Base before search_wrapper's new alias_method_chain'
987175f ymendel 'Squelched #id/#object_id warnings. Removed routing stuff from ActualDrugsController spec (as it was already in the routing spec.)'
e515207 ymendel 'Hiding the step_one/step_three error divs on page load for entry new/edit views.'
04faf36 ymendel 'Got entries edit form working (needed the correct verb, PUT instead of POST)'
b77d61d ymendel 'Cleaning up tons of warnings concerning closing forms with divs.'
0689e26 ymendel 'Catching a problem where creating a 'bill' will try to send you to the 'charge_path', hopefully the last place where BiChargell will trip us up.'
dc3f35d ymendel 'Removing entry-subtype show views (and specs), as these were made obsolete by entries/show and the subtype details partials.'
784870f ymendel 'Displaying 'journal entries' (notes) for entries. The old list_for_entries partial was horrible. The new one (with spec) isn't necessarily that much better, just readable.'
c7e1202 ymendel 'Continuing Record cleanup, finding places breaking encapsulation and assuming certain aspects of the record are stored (cached) in the database. Added open/closed class methods to retrieve open or closed Records.'
64f9c00 ymendel 'Record#associations now uses Record#entries instead of slapping the different entry types together. Added a comment for possible future ordering of the entries association itself.'
2d28717 ymendel 'Removing unused Records controller tests/specs and views.'
1dc60f0 ymendel 'Removing duplicates from Record#service_dates'
8911d42 ymendel 'Removed Record.collect_associations'
bafc22a rick 'added timestamp fields for entries, also Wright brothers flight @ Kitty Hawk'
00f1046 rick 'oops -- created_on -> created_at in more places; as well as the publication of Einstein's Special Theory of Relativity (blam!)'
5362d71 ymendel 'Record#associations will now handle the unfortunate case of occurred_on being nil. Also, Boutros Ghali (Boutros Boutros-Ghali's grandfather) assassinated, Django Reinhardt born.'
d108175 ymendel 'Records can now tell if they are open or closed, people can tell if they have open records, and Bills byfamilymember is specced (in the controller, not the view yet). In other news, India's capital moved from New Delhi to Calcutta.'
7334eda ymendel 'Quashing object_id warnings again. In other news, Ththe Canadian Memorial Chiropractic College initiates its four-year doctoral program. Also, some war stuff.'
51ee1dd ymendel 'Providers can tell if they have open records and Bills byprovider is specced (controller, not view). In other news, Jackie Robinson signs contract with the Brooklyn Dodgers.'
a305f28 ymendel 'Made BillsController#byprovider not explicitly go through account to get user providers. Also, Siam becomes Thailand, Eire becomes Ireland, and Israel is admitted to the UN.'
3df8619 rick 'drop about 159 seconds off the bills/summary load time (on my laptop); also, Rick Savage, bass player for Def Leppard, born, oh and JFK president, etc.'
0063859 rick 'updating expedited queries in light of jakob's new fixes; also, Giuseppe Cantarella roller-skates record 25.78 mph for 440 yds, and some more JFK stuff'
dcc8510 rick 'further tweaks to 'optimized' queries for the bills summary page; also, thieves steal the head of the Little Mermaid statue in Copenhagen, Denmark; and some stuff about MLK, the Beatles, and other 60s type stuff'
c16207f ymendel 'Rework and spec-out of bills byfamilymember view, requiring some small additions to the record model. Also, Michael Jackson's /Thriller/ is released and U.S. Robots and Mechanical Men is founded.'
a25419a ymendel 'Quashing object_id warnings and other non-spec output in the spec output. There's still something Survey-related I couldn't find. Lasting products Swatch watches and Apple Lisa released.'
9540762 ymendel 'Getting the last of the non-spec output. We have always been at war with Eurasia.'
c924a56 ymendel 'Rework and spec-out of bills byprovider view. Nintendo begins to capture the hearts and minds of millions with the story of a blocky little elf (and some princess).'
1e65979 kbarnes 'fix broken spec'
3fd9683 kbarnes 'added specs and refactored select_person helper'
5cf8387 kbarnes 'fixed broken spec'
9d55899 rick 'Writing the most basic of characterization ("currently") tests for the Medstimate model.'
d611de3 rick 'Eliminated useless use of temporary variable; fixed to_s => Array problem.  Also, B'ham and Nashvegas both hit by big twisters, Apples introduces the iMac, and George Michael arrested in a bathroom.'
